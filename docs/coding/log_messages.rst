.. _coding-log_messages:
.. vim: syntax=rst
.. vim: textwidth=72
.. vim: spell spelllang=ru,en

=================================
Написание комментариев к коммитам
=================================

* Сообщение **ОБЯЗАТЕЛЬНО** должно быть на английском языке. Пусть на
  "китайском"-английском, но хоть так.
* Сообщение коммита не должно дублировать информацию которая и так
  может быть получена из git-diff-а. То есть вместо *add new regexp*
  должна быть строчка описывающая для чего этот *regexp* был добавлен,
  например: *Fix incorrect Username input field validation*.
* **ЖЕЛАТЕЛЬНО** использовать повелительное наклонение: *make xyzzy do
  frotz*, вместо *[Этот патч] makes xyzzy do frotz* или *[Я] changed
  xyzzy to do frotz*.
* Комментарий к коммиту **ЖЕЛАТЕЛЬНО** должен иметь следующий формат:

  * Первая строка **не** длиннее 50-60 символов. Содержит суть коммита.
    **Не** содержит точки в конце.
  * Если более детального описания не требуется, то закончить, иначе
    добавить пустую (вторую) строку.
  * Многострочное более детальное описание всех изменений.
    **ЖЕЛАТЕЛЬНО** длины строк описания **не** должны превышать
    72-80 символов.

* Если коммит логически сопровождает действие закрытия тикета, то
  **ЖЕЛАТЕЛЬНО** :ref:`добавить заметку <git-notes-using>` (вида *Closed
  #666*) к коммиту об этом в namespace-е **track.etegro.local**.
* Приветствуются списки начинающиеся на "*".
* Никаких смайликов.
* Сообщение **ОБЯЗАТЕЛЬНО** быть "подписано" :ref:`строкой Signed-off-by
  <git-signed-off>`.
* Если задание по закрытию тикета сопровождается не одним коммитом,
  который можно было бы указать как тот самый который закрывает тикет,
  то сообщение о закрытии тикета **ЖЕЛАТЕЛЬНО** написать в комментарии
  merge-а при слиянии ветки в которой происходила работа по закрытию
  тикета. В git-е комментарий к merge-у является опциональным и его
  необходимо указывать явно.

Префиксы комментариев
=====================
Желательно к комментариям коммитов писать следующие тэги в
в самом начале комментария:

:FIX:
 Коммит является исправлением ошибки. То есть это bugfix
:DOC:
 Коммит является изменением документации, сайта проекта
:I18N:
 Коммит является изменением перевода, разноязыковых сообщений в
 пользовательском интерфейсе
:LUCI:
 Коммит является изменением CBI-моделей
:JS:
 Коммит является изменением ECMAScript (JavaScript) кода
:UI:
 Коммит является изменением пользовательского интерфейса, то есть
 тривиального по отношению к функционалу проекта в целом (цвета,
 границы, картинки, поведение событий JavaScript, итд)

Можно добавлять несколько тэгов. Каждый тэг обрамляется в квадратные
скобочки. Между тэгами отсутствуют пробелы. После указания тэгов пробел
имеется. Начало комментария начинается после тэгов с заглавной буквы.

Подписи комментариев
====================
:Signed-off-by:
 Кем сделано изменение, коммит.
:Reported-by:
 Кто нашёл проблему и сообщил о ней.
:Acked-by:
 Человек который понимает в каком-то контексте и одобряет коммит.
:Reviewed-by:
 Кем детализировано исследован коммит и одобряет его применение.
:Tested-by:
 Кем коммит протестирован и подтверждено что он исправляет проблему.
