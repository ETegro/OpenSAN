.. _coding-common:

=====
Общее
=====

.. contents::

Длина строки
============
Она **ЖЕЛАТЕЛЬНО** не должна превышать 72-80 символов в строке.
Длинные строки желательно разбивать, если это возможно, на более
короткие с переносами. Например::

  ./configure \
        --with-libs=$LIBS \
        --with-feature=$FEATURE \
        --enable-debug \
        --disable-optimizations

Отступы (indentation)
=====================
Отступы **ОБЯЗАТЕЛЬНО** должны быть всегда в один TAB ("\\t"). Каждый
может использовать любую длину символа TAB в своём текстовом редакторе:
2, 4, 8 пробелов и так далее.  Отступ **ОБЯЗАТЕЛЕН** для тел следующих
конструкций языка:

* функций, классов, методов
* условий (if, итд)
* циклов (while, for, foreach, итд)

Комментарии
===========
Все комментарии **ЖЕЛАТЕЛЬНО** должны быть на одном уровне отступа с
кодом, к которому относится. **ЖЕЛАТЕЛЬНО** не использовать комментарии
"внутри" кода (inline) -- они должны идти строками выше его самого.

Орфография
==========
**ОБЯЗАТЕЛЬНО** проверять все текстовые файлы и log messages на
орфографию, перед тем как совершать коммит, чтобы не возникал следующий
её исправляющий.

Названия переменных, функций
============================
Названия переменных и функций **ЖЕЛАТЕЛЬНО** должны быть
самодокументирующимися. По их названию можно было бы понять для чего
они. Например, вместо::

  for k,v in some_hash.iteritems()

использовать:

  for drive,path_dev in some_hash.iteritems()

Двойные пробелы
===============
Двойные пробелы **ЖЕЛАТЕЛЬНО** не иметь нигде, кроме:

* Готовых и предназначенных для печати документов, отрывков документов. К
  такого рода документам относятся и комментарии о copyright-е
* Исходного кода, где двойные пробелы используются для отступов, для
  более удобного оформления кода

Двойные пробелы могут появляться после выполнения утилиты *fmt*, которая
форматирует текст пытаясь заполнить все строки по всей ширине, добавляя
пробелы после конца предложений и между словами. Данное поведение можно
изменить опцией *--uniform-spacing* которая правда всегда добавит по два
пробела после точки/конца предложения. Это исправляется регулярным
выражением.

При использовании встроенной команды форматирования редактора *Vi*
(**gc**), её поведение касательно объединения нескольких пробелов в один
можно менять булевой переменной **joinspaces**.
