.. _openwrt-building:

================================
Использование сборочного скрипта
================================

Сборочный скрипт находится в **build/** директории репозитория. Для его
работы необходимо использовать конфигурационный файл **build.conf**.
Данный файл должен находится в одной директории с одним скриптом
(build.sh). Находящийся в репозитории скрипт имеет:

* настроенные репозитории aStor2 (на github.com-е)
* репозитории OpenWRT (их официальный центральный)
* общая директория для хранения всех скачек (*/home/stargrave/dl* на
  build.etegro.local)
* настроенные feed-ы:

  * packages из OpenWRT на конкретную версию
  * символическая ссылка на astor2-luci-feed
  * символическая ссылка на astor2-feed

Конфигурационный файл OpenWRT находится в **build/.config** файле. При
сборке он будет символически связан с тем, что в сборочной директории
рабочей.

Запуск
======
Достаточно просто запустить сам скрипт::

  % /path/to/build.sh

В директории */path/to/* он создаст поддиректории:

:openwrt/trunk/:
 Собственно сама сборка происходит здесь
:output/YYYY-MM-DDTHH\:mm:
 Вывод всего процесса сборки и полученные образы
