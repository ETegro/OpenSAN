<%#
 aStor2 -- storage area network configurable via Web-interface
 Copyright (C) 2009-2011 ETegro Technologies, PLC
                         Vladimir Petukhov (vladimir.petukhov@etegro.com)
 
 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU Affero General Public License as
 published by the Free Software Foundation, either version 3 of the
 License, or (at your option) any later version.
 
 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU Affero General Public License for more details.
 
 You should have received a copy of the GNU Affero General Public License
 along with this program.  If not, see http://www.gnu.org/licenses/.
%>

<% if line.physical.state == "free" then %>
	<li>
		<div class="inline"><%: Logical hotspare %>: </div>
		<div class="inline">
			<select id="san.logical_id_hotspare-<%= line.physical.id %>"
				name="san.logical_id_hotspare-<%= line.physical.id %>"
				size="1" >
				<option value=""></option>
				<% for _, option in ipairs( matrix_overall ) do %>
					<% if option.logical then %>
					<option value="<%= option.logical.id %>"><%= option.logical.id %></option>
					<% end %>
				<% end %>
			</select>
		</div>
		<div class="inline">
			<input id="san.submit_logical_hotspare_add-<%= line.physical.id %>"
			       class="inline"
			       name="san.submit_logical_hotspare_add-<%= line.physical.id %>"
			       src="<%=resource%>/cbi/add.gif"
			       title="<%: Add hotspare %>"
			       type="image"
			       value="<%: Add hotspare %>"/>
		</div>
	</li>
<% end %>
<% if line.physical.state == "hotspare" then %>
	<li>
		<input name="san.submit_logical_hotspare_delete-<%= line.physical.logical_id %>-<%= line.physical.id %>"
		       class="inline"
		       src="<%=resource%>/cbi/remove.gif"
		       title="<%: Remove hotspare %>"
		       type="image"
		       value="<%: Remove hotspare %>" />
	</li>
<% end %>
