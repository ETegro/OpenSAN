<%#
  aStor2 -- storage area network configurable via Web-interface
  Copyright (C) 2009-2012 ETegro Technologies, PLC
                          Vladimir Petukhov (vladimir.petukhov@etegro.com)
  
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
%>

<div id="div_access_pattern_new" class="to_hide">
	<fieldset>
		<legend><%: Access pattern %></legend>
		<table class="form">
			<tbody>
				<tr>
					<td><%: Name %>:</td>
					<td>
						<input name="san.access_pattern_new-name"
						       type="text" />
					</td>
				</tr>
				<tr>
					<td><%: Target driver %>:</td>
					<td>
						<input name="san.access_pattern_new-targetdriver"
						       type="text"
						       readonly="readonly"
						       value="iscsi" />
					</td>
				</tr>
				<tr>
					<td><%: LUN %>:</td>
					<td>
						<select id="san.access_pattern_new-lun"
							name="san.access_pattern_new-lun"
							size="1" >
							<% local scst = require "astor2.scst"
							   for i = 0, scst.AccessPattern.LUN_MAX do %>
								<option value="<%= i %>"><%= i %></option>
							<% end %>
						</select>
					</td>
				</tr>
				<tr>
					<td><%: Enabled %></td>
					<td>
						<input name="san.access_pattern_new-enabled"
						       id="san.access_pattern_new-enabled"
						       type="checkbox"
						       value="1" />
					</td>
				</tr>
				<tr>
					<td><%: Readonly %></td>
					<td>
						<input name="san.access_pattern_new-readonly"
						       id="san.access_pattern_new-readonly"
						       type="checkbox"
						       value="1" />
					</td>
				</tr>
				<tr>
					<td><%: WriteThrough %></td>
					<td>
						<input name="san.access_pattern_new-writethrough"
						       id="san.access_pattern_new-writethrough"
						       type="checkbox"
						       value="1"
						       onclick="if( this.checked ){
						       	alert('<%: This option will be applied to the whole logical drive %>')
						       }"/>
					</td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td>
						<div class="form">
							<input name="san.submit_access_pattern_new"
							       type="submit"
							       class="icon-add-wide"
							       title="<%: Add access pattern %>"
							       value="<%: Add %>" />
						</div>
					</td>
				</tr>
			<tbody>
		</table>
	</fieldset>
</div>
