<%#
  aStor2 -- storage area network configurable via Web-interface
  Copyright (C) 2009-2012 ETegro Technologies, PLC
                          Vladimir Petukhov (vladimir.petukhov@etegro.com)
  
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
%>

<div id="div_access_pattern_edit-<%= hash( line.access_pattern.section_name ) %>">
	<fieldset>
		<legend><%: Access pattern %></legend>
		<table class="form">
			<tbody>
				<tr>
					<td><%: Name %>:</td>
					<td>
						<input name="san.access_pattern_edit-name-<%= hash( line.access_pattern.section_name ) %>"
						       type="text"
						       value="<%= escape_html( line.access_pattern.name ) %>" />
					</td>
				</tr>
				<tr>
					<td><%: Target driver %>:</td>
					<td>
						<input name="san.access_pattern_edit-targetdriver-<%= hash( line.access_pattern.section_name ) %>"
						       type="text"
						       readonly="readonly"
						       value="iscsi" />
					</td>
				</tr>
				<tr>
					<td><%: LUN %>:</td>
					<td>
						<select id="san.access_pattern_edit-lun-<%= hash( line.access_pattern.section_name ) %>"
							name="san.access_pattern_edit-lun-<%= hash( line.access_pattern.section_name ) %>"
							size="1" >
							<% for i = 0, (16-1) do %>
								<% if i == line.access_pattern.lun then%>
									<option selected="selected" value="<%= i %>"><%= i %></option>
								<% else %>
									<option value="<%= i %>"><%= i %></option>
								<% end %>
							<% end %>
						</select>
					</td>
				</tr>
				<tr>
					<td><%: Enabled %></td>
					<td>
						<input name="san.access_pattern_edit-enabled-<%= hash( line.access_pattern.section_name ) %>"
						       id="san.access_pattern_edit-enabled-<%= hash( line.access_pattern.section_name ) %>"
						       type="checkbox"
							<% if line.access_pattern.enabled then %>
								checked="checked"
							<% end %>
						       value="1" />
					</td>
				</tr>
				<tr>
					<td><%: Readonly %></td>
					<td>
						<input name="san.access_pattern_edit-readonly-<%= hash( line.access_pattern.section_name ) %>"
						       id="san.access_pattern_edit-readonly-<%= hash( line.access_pattern.section_name ) %>"
						       type="checkbox"
							<% if line.access_pattern.readonly then %>
								checked="checked"
							<% end %>
						       value="1" />
					</td>
				</tr>
				<tr>
					<td><%: WriteThrough %></td>
					<td>
						<input name="san.access_pattern_edit-writethrough-<%= hash( line.access_pattern.section_name ) %>"
						       id="san.access_pattern_edit-writethrough-<%= hash( line.access_pattern.section_name ) %>"
						       type="checkbox"
						       <% if line.access_pattern.writethrough then %>
						       	checked="checked"
						       <% end %>
						       value="1"
						       onclick="if( this.checked ){
						       	alert('<%: This option will be applied to the whole logical drive %>')
						       }" />
					</td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td>
						<div class="form">
							<input name="san.submit_access_pattern_edit-<%= hash( line.access_pattern.section_name ) %>"
							       type="submit"
							       class="icon-apply-wide"
							       title="<%: Edit access pattern %>"
							       value="<%: Edit %>" />
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</fieldset>
<div>
