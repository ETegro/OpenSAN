<%#
  aStor2 -- storage area network configurable via Web-interface
  Copyright (C) 2009-2011 ETegro Technologies, PLC
                          Vladimir Petukhov (vladimir.petukhov@etegro.com)
  
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
%>

<fieldset>
	<legend><%: Logical volume%></legend>
	<table class="form">
		<tbody>
			<tr>
				<td width="25%">
					<label for="san.new_volume_name-<%= hash( tostring( line.logical.id ) ) %>">
						<%: Name %>:
					</label>
				</td>
				<td width="75%">
					<input id="san.new_volume_name-<%= hash( tostring( line.logical.id ) ) %>"
					       name="san.new_volume_name-<%= hash( tostring( line.logical.id ) ) %>"
					       type="text"
					       value="" />
				</td>
			</tr>
			<tr>
				<td>
					<input id="san.new_volume_slider_size-<%= hash( tostring( line.logical.id ) ) %>"
					       class="new_volume_slider_size-<%= hash( tostring( line.logical.id ) ) %>
							<% local highlight = line.logical.highlight %>
							<% if highlight.color then %>
								logical-background-color-light<%= highlight.color %>
							<% end %>
					              logical-state-<%= line.logical.state %>
						      noborder"
					       name="san.new_volume_slider_size-<%= hash( tostring( line.logical.id ) ) %>"
					       readonly="readonly"
					       type="text"
					       class="inline"
					       value="0" />
				</td>
				<td>
					<div id="new_volume_slider-<%= hash( tostring( line.logical.id ) ) %>"></div>
				</td>
			</tr>
			<tr>
				<td>&nbsp;</td>
				<td>
					<div class="form">
						<input name="san.submit_logical_volume_add-<%= hash( tostring( line.logical.id ) ) %>"
						       type="submit"
						       class="icon-add-wide"
						       title="<%: Add logical volume %>"
						       value="<%: Add %>" />
					</div>
				</td>
			</tr>
		</tbody>
	</table>
	<%+san/logical/slider.js%>
</fieldset>
