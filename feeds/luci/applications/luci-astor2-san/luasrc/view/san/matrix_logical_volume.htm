<td valign="top"
    rowspan="<%= line.logical_volume.rowspan %>"
    class="<%+san/matrix_logical_volume_class%>">

<table border="0px" width="100%" cellpadding="0" cellspacing="0">
	<% if line.logical_volume.is_snapshot() == false then %>
	<tr>
		<td>
			<%= line.logical_volume.name %>
		</td>
		<td>
			<span title="<%= line.logical_volume.size_mib %> <%: MiB %>"><%= line.logical_volume.size %> <%: TiB %></span>
		</td>
		<td>
			<input name="san.submit_logical_volume_remove-<%= line.logical_volume.volume_group.name %>-lv<%= line.logical_volume.name %>"
			       onclick=" if ( !confirm( '<%: Really remove logical volume? %>' ) )
					 return false;
					 return true;"
			       src="<%=resource%>/cbi/remove.gif"
			       type="image"
			       title="<%: Remove logical volume %>"
			       value="<%: Remove logical volume %>" />
		</td>
	</tr>
	<tr>
		<td colspan="3">
			<div>
				<%: Resize logical volume %>
			</div>
			<div id="logical_volume_resize_slider-<%= line.logical_volume.name %>"></div>
			<div>
				<input id="san.logical_volume_resize_slider_size-<%= line.logical_volume.name %>"
				       class="logical_volume_resize_slider_size-<%= line.logical_volume.name %>"
				       name="san.logical_volume_resize_slider_size-<%= line.logical_volume.name %>"
				       readonly="readonly"
				       type="text"
				       value="0" />
			</div>

			<div>
				<input name="san.submit_logical_volume_resize-<%= line.logical_volume.volume_group.name %>-lv<%= line.logical_volume.name %>"
				       onclick=" if ( !confirm( '<%: Really resize logical volume drive? %>' ) )
						 return false;
						 return true;"
				       src="<%=resource%>/cbi/reload.gif"
				       type="image"
				       title="<%: Resize logical volume %>"
				       value="<%: Resize logical volume %>" />
			</div>

			<script type="text/javascript">
				jQuery.noConflict();
				(function($){
					var slider_name = '#logical_volume_resize_slider-<%= line.logical_volume.name %>';
					var slider_input_name = '.logical_volume_resize_slider_size-<%= line.logical_volume.name %>';
					$( slider_name ).slider({
						orientation: 'horizontal',
						min: 1,
						max: <%=  line.logical_volume.size_mib + line.logical.volume_group.total_mib - line.logical.volume_group.allocated_mib %>,
						range: 'min',
						value: <%= line.logical_volume.size_mib %>,
						slide: function( event, ui ) {
							$( slider_input_name ).val( ui.value );
						}
					});
					$( slider_input_name )
						.val( $( slider_name )
						.slider( 'value' ) );
				})(jQuery);
			</script>
			<a id="volume_logical_info-<%= line.logical_volume.name %>" href="#">
				<img src="<%=resource%>/cbi/fieldadd.gif"
				     alt="<%: Snapshot %>"
				     title="<%: Snapshot %>" />
			</a>
		</td>
	</tr>
	<tr class="to_hide">
		<td colspan="3">
			<div>
				<%: Take new snapshot %>
			</div>
			<div id="new_snapshot_slider-<%= line.logical_volume.name %>"></div>
			<div>
				<input id="san.new_snapshot_slider_size-<%= line.logical_volume.name %>"
				       class="new_snapshot_slider_size-<%= line.logical_volume.name %>"
				       name="san.new_snapshot_slider_size-<%= line.logical_volume.name %>"
				       readonly="readonly"
				       type="text"
				       value="0" />
			</div>
			<div>
				<input name="san.submit_logical_volume_snapshot_add-lvd<%= line.logical_volume.device %>"
				       src="<%=resource%>/cbi/add.gif"
				       title="<%: Add snapshot %>"
				       type="image"
				       value="<%: Add snapshot %>" />
			</div>
			<script type="text/javascript">
				jQuery.noConflict();
				(function($){
					var slider_name = '#new_snapshot_slider-<%= line.logical_volume.name %>';
					var slider_input_name = '.new_snapshot_slider_size-<%= line.logical_volume.name %>';
					$( slider_name ).slider({
						orientation: 'horizontal',
						min: 1,
						max: <%= line.logical_volume.size_mib %>,
						range: 'min',
						value: <%= line.logical_volume.size_mib %> / 2,
						slide: function( event, ui ) {
							$( slider_input_name ).val( ui.value );
						}
					});
				$( slider_input_name )
					.val( $( slider_name )
					.slider( 'value' ) );
				})(jQuery);
			</script>
		</td>
	</tr>
	<% elseif line.logical_volume.is_snapshot() == true then %>
		<%+san/matrix_logical_volume_snapshot%>
	<% else %>
	<% end %>
</table>

</td>
