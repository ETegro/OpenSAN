--[[
  aStor2 -- storage area network configurable via Web-interface
  Copyright (C) 2009-2011 ETegro Technologies, PLC
                          Vladimir Petukhov (vladimir.petukhov@etegro.com)
  
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
]]

require( "luaunit" )
matrix = require( "matrix" )

TestTrueMib = {}
	function TestTrueMib:test_int_value_negative()
		assertEquals( matrix.round_mib( -1 ), "-1" )
	end
	function TestTrueMib:test_float_value_negative()
		assertEquals( matrix.round_mib( -1.0 ), "-1" )
	end
	function TestTrueMib:test_int_value_zero()
		assertEquals( matrix.round_mib( 0 ), "0" )
	end
	function TestTrueMib:test_float_value_zero()
		assertEquals( matrix.round_mib( 0.0 ), "0" )
	end
	function TestTrueMib:test_int_value_one()
		assertEquals( matrix.round_mib( 1 ), "1" )
	end
	function TestTrueMib:test_float_value_one()
		assertEquals( matrix.round_mib( 1.0 ), "1" )
	end
	function TestTrueMib:test_value_float_number_1()
		assertEquals( matrix.round_mib( 30.1234567 ), "30" )
	end
	function TestTrueMib:test_value_float_number_2()
		assertEquals( matrix.round_mib( 0.123 ), "0" )
	end
	function TestTrueMib:test_value_float_number_3()
		assertEquals( matrix.round_mib( 0.123456789 ), "0" )
	end
	function TestTrueMib:test_value_float_number_4()
		assertEquals( matrix.round_mib( 1234567890.123456789 ), "1234567890" )
	end
	function TestTrueMib:test_value_float_number_5()
		assertEquals( matrix.round_mib( 1E3 ), "1000" )
	end
	function TestTrueMib:test_value_float_number_6()
		assertEquals( matrix.round_mib( 5E3 + 0.000000000123 ), "5000" )
	end

LuaUnit:run()
